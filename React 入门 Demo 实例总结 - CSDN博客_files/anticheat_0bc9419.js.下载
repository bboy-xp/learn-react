define("js/anticheat",["globalData"],function(e){function t(e,t){return function(n){return n=n||window.event,n.target=n.target||n.srcElement,n.customCurrentTarget=t,e.call(this,n)}}function n(e,n,i){e.addEventListener?e.addEventListener(n,t(i,e)):e.attachEvent&&e.attachEvent("on"+n,t(i,e))}function i(e){-1===C.mouseInClientX&&(C.mouseInClientX=parseInt(e.clientX,10)),-1===C.mouseInClientY&&(C.mouseInClientY=parseInt(e.clientY,10))}function o(){-1===C.mouseInTime&&(C.mouseInTime=(new Date).getTime()),C.mouseInTimeSpan=(new Date).getTime()-C.mouseInTime}function r(e){C.mousePressTime="mousedown"===e.type?(new Date).getTime():(new Date).getTime()-C.mousePressTime}function m(){-1===C.mouseOverTimes&&(C.mouseOverTimes=0),C.mouseOverTimes++}function u(e){var t=e.customCurrentTarget;C.mouseClickClientX=parseInt(e.clientX,10),C.mouseClickClientY=parseInt(e.clientY,10),o(),C.mouseClickCheckNum=0;var n=!1,i=t.getAttribute(c),r=c;i||(r="href",i=t.getAttribute(r));var m=i,u=/(?:\?|&)q=(.*?)(?=\&|$)/i;-1!==i.indexOf("google.com")&&(n=!0,m=decodeURIComponent(i.match(u)[1]),t.setAttribute(r,m));for(var s=/\.php\?(url=)?([0-9a-zA-Z_-]*)\./.exec(m)[2],a=+t.getAttribute("data-tag-index"),l=C.antiCheatArray[a],d=0;d<C.mouseOverTimes*l%99+9;d++){var T=C.mousePressTime*d%s.length;C.mouseClickCheckNum+=s.charCodeAt(T)}-1===m.indexOf("&ck")&&(m=m+"&ck="+[C.mouseClickCheckNum,C.mouseOverTimes,C.mousePressTime,C.mouseClickClientX,C.mouseClickClientY,C.mouseInClientX,C.mouseInClientY,C.mouseInTimeSpan].join("."),t.setAttribute(r,m));var v=t.innerHTML;null!=v.match(/(www\.)|(.*@.*)/i)&&document.all&&(null==v.match(/\<.*\>/i)?t.innerHTML=v:t.innerTEXT=v),n&&t.setAttribute(r,i.replace(u,"&q="+encodeURIComponent(m)))}function s(e){var t=e.length;if(t)for(var i=null,o=0;t>o;o++)i=e[o],null!=i.getAttribute("data-tag-index")&&(n(i,"mousedown",r),n(i,"mouseup",r),n(i,"click",u),n(i,"mouseover",m))}function a(e,t){C.antiCheatArray=t||window.antiArray;var r=e.getElementsByTagName("a");n(e,"mouseover",i),n(e,"mouseover",o),l||s(r)}var c=e.elemAntiHrefAttr||"href";"string"!=typeof c&&(c="href");var l=e.doesNotBindAntiRightNow===!0,C={antiCheatArray:[],mouseInClientX:-1,mouseInClientY:-1,mouseInTime:-1,mouseInTimeSpan:-1,mousePressTime:-1,mouseClickClientX:-1,mouseClickClientY:-1,mouseClickCheckNum:-1,mouseOverTimes:-1},d=document.getElementById("container"),T=e.antiArr||window.antiArray||window.antiCheatArray;return T&&d&&a(d,T),{checkEventBind:s,mousePressTimeHandler:r,mouseOverHandler:m,clickHandler:u}});